
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../abstract_factory/">
      
      
        <link rel="next" href="../name_resolution/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Registry - objectory</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#registry" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="objectory" class="md-header__button md-logo" aria-label="objectory" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            objectory
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Registry
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/durandtibo/objectory" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    durandtibo/objectory
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../get_started/" class="md-tabs__link">
        
  
    
  
  Get Started

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../abstract_factory/" class="md-tabs__link">
          
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../refs/" class="md-tabs__link">
          
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="https://github.com/durandtibo/objectory" class="md-tabs__link">
        
  
    
  
  GitHub

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="objectory" class="md-nav__button md-logo" aria-label="objectory" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    objectory
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/durandtibo/objectory" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    durandtibo/objectory
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../get_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Get Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../abstract_factory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Abstract Factory
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Registry
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Registry
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#register-an-object" class="md-nav__link">
    <span class="md-ellipsis">
      Register an object
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Register an object">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#decorator-register" class="md-nav__link">
    <span class="md-ellipsis">
      Decorator register
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-register_object" class="md-nav__link">
    <span class="md-ellipsis">
      Function register_object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-object-registration" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced object registration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced object registration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sub-registry" class="md-nav__link">
    <span class="md-ellipsis">
      Sub-registry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register-all-the-child-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Register all the child classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customized-name" class="md-nav__link">
    <span class="md-ellipsis">
      Customized name
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#factory" class="md-nav__link">
    <span class="md-ellipsis">
      Factory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#remove-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Remove objects
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Remove objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#remove-all-the-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Remove all the objects
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove-a-specific-object" class="md-nav__link">
    <span class="md-ellipsis">
      Remove a specific object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filters" class="md-nav__link">
    <span class="md-ellipsis">
      Filters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Filters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#child-class-filter" class="md-nav__link">
    <span class="md-ellipsis">
      Child class filter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clear-all-filters" class="md-nav__link">
    <span class="md-ellipsis">
      Clear all filters
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../name_resolution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Name Resolution Mechanism
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../refs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Main classes and functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../refs/abstract_factory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Abstract factory
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../refs/registry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Registry
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../refs/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/durandtibo/objectory" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#register-an-object" class="md-nav__link">
    <span class="md-ellipsis">
      Register an object
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Register an object">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#decorator-register" class="md-nav__link">
    <span class="md-ellipsis">
      Decorator register
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-register_object" class="md-nav__link">
    <span class="md-ellipsis">
      Function register_object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-object-registration" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced object registration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced object registration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sub-registry" class="md-nav__link">
    <span class="md-ellipsis">
      Sub-registry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register-all-the-child-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Register all the child classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customized-name" class="md-nav__link">
    <span class="md-ellipsis">
      Customized name
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#factory" class="md-nav__link">
    <span class="md-ellipsis">
      Factory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#remove-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Remove objects
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Remove objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#remove-all-the-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Remove all the objects
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove-a-specific-object" class="md-nav__link">
    <span class="md-ellipsis">
      Remove a specific object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filters" class="md-nav__link">
    <span class="md-ellipsis">
      Filters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Filters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#child-class-filter" class="md-nav__link">
    <span class="md-ellipsis">
      Child class filter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clear-all-filters" class="md-nav__link">
    <span class="md-ellipsis">
      Clear all filters
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="registry">Registry<a class="headerlink" href="#registry" title="Permanent link">&para;</a></h1>
<p>The <code>Registry</code> can be used to register a class or a function.</p>
<h2 id="register-an-object">Register an object<a class="headerlink" href="#register-an-object" title="Permanent link">&para;</a></h2>
<p>This section explains the basics on how to register an object (class or function).
There are two approaches to register an object to the registry:</p>
<ul>
<li>by using the decorator <code>register</code></li>
<li>by using the function <code>register_object</code></li>
</ul>
<h3 id="decorator-register">Decorator <code>register</code><a class="headerlink" href="#decorator-register" title="Permanent link">&para;</a></h3>
<p>You can use the decorator <code>register</code> to register an object to the registry.
For example if you want to register the class <code>ClassToRegister</code>, you can write:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># file: my_package/my_module.py</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">objectory</span><span class="w"> </span><span class="kn">import</span> <span class="n">Registry</span>

<span class="n">registry</span> <span class="o">=</span> <span class="n">Registry</span><span class="p">()</span>


<span class="nd">@registry</span><span class="o">.</span><span class="n">register</span><span class="p">()</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ClassToRegister</span><span class="p">:</span>
    <span class="k">pass</span>


<span class="nb">print</span><span class="p">(</span><span class="n">registry</span><span class="o">.</span><span class="n">registered_names</span><span class="p">())</span>
</code></pre></div>
<p><em>Output</em>:</p>
<div class="highlight"><pre><span></span><code>{&#39;my_package.my_module.ClassToRegister&#39;}
</code></pre></div>
<p>The class <code>ClassToRegister</code> is registered with the name <code>my_package.my_module.ClassToRegister</code>.
You can see the registered names by using the function <code>registered_names</code>.
The function <code>registered_names</code> returns the set of registered names.</p>
<p>You can also use the decorator <code>register</code> to register a function:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># file: my_package/my_module.py</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">objectory</span><span class="w"> </span><span class="kn">import</span> <span class="n">Registry</span>

<span class="n">registry</span> <span class="o">=</span> <span class="n">Registry</span><span class="p">()</span>


<span class="nd">@registry</span><span class="o">.</span><span class="n">register</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">function_to_register</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="nb">print</span><span class="p">(</span><span class="n">registry</span><span class="o">.</span><span class="n">registered_names</span><span class="p">())</span>
</code></pre></div>
<p><em>Output</em>:</p>
<div class="highlight"><pre><span></span><code>{&#39;my_package.my_module.function_to_register&#39;}
</code></pre></div>
<p>The function <code>function_to_register</code> is registered with the
name <code>my_package.my_module.function_to_register</code>.</p>
<h3 id="function-register_object">Function <code>register_object</code><a class="headerlink" href="#function-register_object" title="Permanent link">&para;</a></h3>
<p>The decorator approach works well when you can change the source code, but it will not work if you
cannot modify the source code.
You cannot use the decorator <code>register</code> to register an object in a third party library.
To register a class or function from a third party library, you can use the
function <code>register_object</code>.
For example if you want to register the class <code>ClassToRegister</code> of the library <code>third_party</code>, you
can write the following lines:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># file: my_package/my_module.py</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">objectory</span><span class="w"> </span><span class="kn">import</span> <span class="n">Registry</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">third_party</span><span class="w"> </span><span class="kn">import</span> <span class="n">ClassToRegister</span>

<span class="n">registry</span> <span class="o">=</span> <span class="n">Registry</span><span class="p">()</span>

<span class="n">registry</span><span class="o">.</span><span class="n">register_object</span><span class="p">(</span><span class="n">ClassToRegister</span><span class="p">)</span>
</code></pre></div>
<p>Similarly to the decorator <code>register</code>, you can use the function <code>register_object</code> to register a
function:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># file: my_package/my_module.py</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">objectory</span><span class="w"> </span><span class="kn">import</span> <span class="n">Registry</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">third_party</span><span class="w"> </span><span class="kn">import</span> <span class="n">function_to_register</span>

<span class="n">registry</span> <span class="o">=</span> <span class="n">Registry</span><span class="p">()</span>

<span class="n">registry</span><span class="o">.</span><span class="n">register_object</span><span class="p">(</span><span class="n">function_to_register</span><span class="p">)</span>
</code></pre></div>
<p><img alt="âš " class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=":warning:" /> It is not possible to register a lambda function.
Please use a regular python function instead.
The registry will raise the exception <code>IncorrectObjectFactoryError</code> if you try to register a lambda
function.</p>
<h2 id="advanced-object-registration">Advanced object registration<a class="headerlink" href="#advanced-object-registration" title="Permanent link">&para;</a></h2>
<p>This section presents some advanced features to register an object.</p>
<h3 id="sub-registry">Sub-registry<a class="headerlink" href="#sub-registry" title="Permanent link">&para;</a></h3>
<p>Previously we showed how to register an object to the registry, but all the objects will be
registered to the same registry which can be messy in some cases.
Instead, you can decide to use a hierarchical structure and to use sub-registries.
The registry will have a tree structure. <code>registry</code> is the main registry, and you can add some
sub-registries.
Each sub-registry works like the main registry.
In fact, the main registry and the sub-registries are implemented with the same class (<code>Registry</code>).
It is not a hard coded rule, but it is recommended to use one sub-registry for each "family" of
objects to group the similar objects.</p>
<p>If you want to register the class in the sub-registry <code>other</code>, you can write:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># file: my_package/my_module.py</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">objectory</span><span class="w"> </span><span class="kn">import</span> <span class="n">Registry</span>

<span class="n">registry</span> <span class="o">=</span> <span class="n">Registry</span><span class="p">()</span>


<span class="nd">@registry</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">register</span><span class="p">()</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ClassToRegister</span><span class="p">:</span>
    <span class="k">pass</span>


<span class="nb">print</span><span class="p">(</span><span class="n">registry</span><span class="o">.</span><span class="n">registered_names</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">registry</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">registered_names</span><span class="p">())</span>
</code></pre></div>
<p><em>Output</em>:</p>
<div class="highlight"><pre><span></span><code>{&#39;other&#39;}
{&#39;my_package.my_module.ClassToRegister&#39;}
</code></pre></div>
<p>You can check the registered objects in <code>registry</code> and <code>registry.other</code>.
The class <code>ClassToRegister</code> is registered into <code>registry.other</code> and not <code>registry</code>.
Note that the sub-registry <code>other</code> is registered to the main registry with the name <code>other</code>.
It means you cannot use the name <code>other</code> to register an object.
Each sub-registry is considered as a registered object in the parent registry.
The sub-registry <code>other</code> will be created if it does not exist, so you do not have to manually
register the new sub-registry.
It is possible to have a nested structure where you add a sub-registry to a sub-registry:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">objectory</span><span class="w"> </span><span class="kn">import</span> <span class="n">Registry</span>

<span class="n">registry</span> <span class="o">=</span> <span class="n">Registry</span><span class="p">()</span>


<span class="nd">@registry</span><span class="o">.</span><span class="n">animal</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">register</span><span class="p">()</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MyCat</span><span class="p">:</span>
    <span class="k">pass</span>


<span class="nd">@registry</span><span class="o">.</span><span class="n">animal</span><span class="o">.</span><span class="n">bear</span><span class="o">.</span><span class="n">register</span><span class="p">()</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MyBear</span><span class="p">:</span>
    <span class="k">pass</span>
</code></pre></div>
<h3 id="register-all-the-child-classes">Register all the child classes<a class="headerlink" href="#register-all-the-child-classes" title="Permanent link">&para;</a></h3>
<p>In some cases, you may want to register a class and all its child classes.
Instead of doing manually, you can use the function <code>register_child_classes</code>.
This function will automatically register the given class and all its child classes.
It will find all the child classes and will add them to the registry.
It finds the child classes recursively, so it will also find the child classes of the child classes.</p>
<p>Let's imagine you have the following classes and you want to register them.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># file: my_package/my_module.py</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">objectory</span><span class="w"> </span><span class="kn">import</span> <span class="n">Registry</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Foo</span><span class="p">:</span>
    <span class="k">pass</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Bar</span><span class="p">(</span><span class="n">Foo</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Baz</span><span class="p">(</span><span class="n">Foo</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Bing</span><span class="p">(</span><span class="n">Bar</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="n">registry</span> <span class="o">=</span> <span class="n">Registry</span><span class="p">()</span>

<span class="c1"># If you want to register Foo and all its child classes.</span>
<span class="n">registry</span><span class="o">.</span><span class="n">register_child_classes</span><span class="p">(</span><span class="n">Foo</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">registry</span><span class="o">.</span><span class="n">registered_names</span><span class="p">())</span>

<span class="c1"># If you want to register Bar and all its child classes.</span>
<span class="n">registry</span><span class="o">.</span><span class="n">bar</span><span class="o">.</span><span class="n">register_child_classes</span><span class="p">(</span><span class="n">Bar</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">registry</span><span class="o">.</span><span class="n">bar</span><span class="o">.</span><span class="n">registered_names</span><span class="p">())</span>
</code></pre></div>
<p><em>Output</em>:</p>
<div class="highlight"><pre><span></span><code>{&#39;my_package.my_module.Foo&#39;, &#39;my_package.my_module.Baz&#39;,
 &#39;my_package.my_module.Bing&#39;, &#39;my_package.my_module.Bar&#39;}
{&#39;my_package.my_module.Bing&#39;, &#39;my_package.my_module.Bar&#39;}
</code></pre></div>
<p>By default, the function <code>register_child_classes</code> ignores all the abstract classes because you
cannot instantiate them.
If you want to also register the abstract classes, you can use the
argument <code>ignore_abstract_class=False</code>.
The following example shows how to register all the <code>torch.nn.Module</code> including the abstract
classes.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">objectory</span><span class="w"> </span><span class="kn">import</span> <span class="n">Registry</span>

<span class="n">registry</span> <span class="o">=</span> <span class="n">Registry</span><span class="p">()</span>
<span class="n">registry</span><span class="o">.</span><span class="n">register_child_classes</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">,</span> <span class="n">ignore_abstract_class</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<h3 id="customized-name">Customized name<a class="headerlink" href="#customized-name" title="Permanent link">&para;</a></h3>
<p>By default, the registry uses the full name of the object to identify the object in the registry.
It is possible to customize the name used to register an object.
For example if you want to register the class <code>ClassToRegister</code> with the name <code>my_class</code>, you can
write the following code:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># file: my_package/my_module.py</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">objectory</span><span class="w"> </span><span class="kn">import</span> <span class="n">Registry</span>

<span class="n">registry</span> <span class="o">=</span> <span class="n">Registry</span><span class="p">()</span>


<span class="nd">@registry</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="s2">&quot;my_class&quot;</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ClassToRegister</span><span class="p">:</span>
    <span class="k">pass</span>


<span class="n">registry</span><span class="o">.</span><span class="n">register_object</span><span class="p">(</span><span class="n">ClassToRegister</span><span class="p">,</span> <span class="s2">&quot;my_class&quot;</span><span class="p">)</span>
<span class="c1"># or</span>
<span class="n">registry</span><span class="o">.</span><span class="n">register_object</span><span class="p">(</span><span class="n">ClassToRegister</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;my_class&quot;</span><span class="p">)</span>
</code></pre></div>
<p>One of the advantage of using customizable names is that you can define shorter name: <code>my_class</code> is
shorter than <code>my_package.my_module.ClassToRegister</code>.
But using customizable names is not a free lunch, and it has a cost: it will be your responsibility
to manage the names to avoid the conflicts.
If two objects are registered with the same name, only the last object will be registered.
For this reason, it is recommended to use the full name (default) because the full name is unique.</p>
<p>Please think carefully about the pros and cons of this feature before to use it.
In most of the cases you probably do not need it.
Keep in mind that <strong>with power comes responsibility.</strong></p>
<h2 id="factory">Factory<a class="headerlink" href="#factory" title="Permanent link">&para;</a></h2>
<p>The reserved keywords are:</p>
<ul>
<li><code>_target_</code>: the class/function to instantiate</li>
<li><code>_init_</code>: the constructor to use to instantiate a class</li>
</ul>
<h2 id="remove-objects">Remove objects<a class="headerlink" href="#remove-objects" title="Permanent link">&para;</a></h2>
<p>In the previous sections, we explain how to add objects to the registry.
In this section, we will explain how to remove them.</p>
<h3 id="remove-all-the-objects">Remove all the objects<a class="headerlink" href="#remove-all-the-objects" title="Permanent link">&para;</a></h3>
<p>If you want to remove all the objects in a registry, you can use the function <code>clear</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">objectory</span><span class="w"> </span><span class="kn">import</span> <span class="n">Registry</span>

<span class="n">registry</span> <span class="o">=</span> <span class="n">Registry</span><span class="p">()</span>


<span class="k">class</span><span class="w"> </span><span class="nc">ClassToRegister</span><span class="p">:</span>
    <span class="k">pass</span>


<span class="n">registry</span><span class="o">.</span><span class="n">register_object</span><span class="p">(</span><span class="n">ClassToRegister</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">registry</span><span class="o">.</span><span class="n">registered_names</span><span class="p">())</span>

<span class="n">registry</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">registry</span><span class="o">.</span><span class="n">registered_names</span><span class="p">())</span>
</code></pre></div>
<p><em>Output</em>:</p>
<div class="highlight"><pre><span></span><code>set()
</code></pre></div>
<p>This function remove all the registered objects including the sub-registries.
For example, if the registry has a sub-registry <code>other</code>, this line of code will also clear the
sub-registry <code>other</code>.
You can use this function on a sub-registry to clear only this sub-registry.
For example, you can use the following command to remove all the classes and functions registered in
the sub-registry <code>other</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">objectory</span><span class="w"> </span><span class="kn">import</span> <span class="n">Registry</span>

<span class="n">registry</span> <span class="o">=</span> <span class="n">Registry</span><span class="p">()</span>

<span class="n">registry</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">registry</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">registered_names</span><span class="p">())</span>
</code></pre></div>
<p><em>Output</em>:</p>
<div class="highlight"><pre><span></span><code>set()
</code></pre></div>
<p>Note that by default, the function <code>clear</code> removes the sub-registries from the current registry but
it does not clear the sub-registries.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># file: my_package/my_module.py</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">objectory</span><span class="w"> </span><span class="kn">import</span> <span class="n">Registry</span>

<span class="n">registry</span> <span class="o">=</span> <span class="n">Registry</span><span class="p">()</span>


<span class="k">class</span><span class="w"> </span><span class="nc">ClassToRegister</span><span class="p">:</span>
    <span class="k">pass</span>


<span class="n">registry</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">register_object</span><span class="p">(</span><span class="n">ClassToRegister</span><span class="p">)</span>
<span class="n">registry_other</span> <span class="o">=</span> <span class="n">registry</span><span class="o">.</span><span class="n">other</span>

<span class="n">registry</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">registry</span><span class="o">.</span><span class="n">registered_names</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">registry_other</span><span class="o">.</span><span class="n">registered_names</span><span class="p">())</span>
</code></pre></div>
<p><em>Output</em>:</p>
<div class="highlight"><pre><span></span><code>set()
{&#39;my_package.my_module.ClassToRegister&#39;}
</code></pre></div>
<p>To also clear all the sub-registries, you can set <code>nested=True</code> and the sub-registry <code>other</code> is also
cleared.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># file: my_package/my_module.py</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">objectory</span><span class="w"> </span><span class="kn">import</span> <span class="n">Registry</span>

<span class="n">registry</span> <span class="o">=</span> <span class="n">Registry</span><span class="p">()</span>


<span class="k">class</span><span class="w"> </span><span class="nc">ClassToRegister</span><span class="p">:</span>
    <span class="k">pass</span>


<span class="n">registry</span><span class="o">.</span><span class="n">other</span><span class="o">.</span><span class="n">register_object</span><span class="p">(</span><span class="n">ClassToRegister</span><span class="p">)</span>
<span class="n">registry_other</span> <span class="o">=</span> <span class="n">registry</span><span class="o">.</span><span class="n">other</span>

<span class="n">registry</span><span class="o">.</span><span class="n">clear</span><span class="p">(</span><span class="n">nested</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">registry</span><span class="o">.</span><span class="n">registered_names</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">registry_other</span><span class="o">.</span><span class="n">registered_names</span><span class="p">())</span>
</code></pre></div>
<p><em>Output</em>:</p>
<div class="highlight"><pre><span></span><code>set()
set()
</code></pre></div>
<h3 id="remove-a-specific-object">Remove a specific object<a class="headerlink" href="#remove-a-specific-object" title="Permanent link">&para;</a></h3>
<p>The function <code>clear</code> is useful to remove all the objects in the registry, but it does not work if
you want to only remove a registered object and keep all the other registered objects.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># file: my_package/my_module.py</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">objectory</span><span class="w"> </span><span class="kn">import</span> <span class="n">Registry</span>

<span class="n">registry</span> <span class="o">=</span> <span class="n">Registry</span><span class="p">()</span>


<span class="nd">@registry</span><span class="o">.</span><span class="n">register</span><span class="p">()</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ClassToRegister1</span><span class="p">:</span>
    <span class="k">pass</span>


<span class="nd">@registry</span><span class="o">.</span><span class="n">register</span><span class="p">()</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ClassToRegister2</span><span class="p">:</span>
    <span class="k">pass</span>


<span class="nb">print</span><span class="p">(</span><span class="n">registry</span><span class="o">.</span><span class="n">registered_names</span><span class="p">())</span>
<span class="n">registry</span><span class="o">.</span><span class="n">unregister</span><span class="p">(</span><span class="s2">&quot;my_package.my_module.ClassToRegister1&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">registry</span><span class="o">.</span><span class="n">registered_names</span><span class="p">())</span>
</code></pre></div>
<p><em>Output</em>:</p>
<div class="highlight"><pre><span></span><code>{&#39;my_package.my_module.ClassToRegister1&#39;, &#39;my_package.my_module.ClassToRegister2&#39;}
{&#39;my_package.my_module.ClassToRegister2&#39;}
</code></pre></div>
<p>If the object name is unique in the registry, you can only specify the object name:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">objectory</span><span class="w"> </span><span class="kn">import</span> <span class="n">Registry</span>

<span class="n">registry</span> <span class="o">=</span> <span class="n">Registry</span><span class="p">()</span>

<span class="n">registry</span><span class="o">.</span><span class="n">unregister</span><span class="p">(</span><span class="s2">&quot;ClassToRegister&quot;</span><span class="p">)</span>
<span class="c1"># is equivalent to</span>
<span class="n">registry</span><span class="o">.</span><span class="n">unregister</span><span class="p">(</span><span class="s2">&quot;my_package.my_module.ClassToRegister&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Please read the <a href="../name_resolution/">name resolution</a> documentation to learn more about this
feature.</p>
<h2 id="filters">Filters<a class="headerlink" href="#filters" title="Permanent link">&para;</a></h2>
<h3 id="child-class-filter">Child class filter<a class="headerlink" href="#child-class-filter" title="Permanent link">&para;</a></h3>
<p>Usually you want to control the objects that you want to add to the registry.
For example, it is usually a good idea to register similar objects in the same registry.
A usual scenario is to define a base class, and then register only the child classes of the base
class.
For example if you want to register <code>torch.nn.Module</code>, you probably want to check that the object is
a <code>torch.nn.Module</code> before to register it.
Let's imagine you want to register only <code>torch.nn.Module</code> in the sub-registry <code>other</code>.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">objectory</span><span class="w"> </span><span class="kn">import</span> <span class="n">Registry</span>

<span class="n">registry</span> <span class="o">=</span> <span class="n">Registry</span><span class="p">()</span>

<span class="n">registry</span><span class="o">.</span><span class="n">set_class_filter</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">)</span>
<span class="n">registry</span><span class="o">.</span><span class="n">register_object</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Linear</span><span class="p">)</span>
<span class="n">registry</span><span class="o">.</span><span class="n">register_object</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Conv2d</span><span class="p">)</span>
<span class="o">...</span>
</code></pre></div>
<p>You can only register classes that inherits torch.nn.Module in the sub-registry <code>other</code>.
If you try to register a class which is not a child class, the registry will raise the
exception <code>IncorrectObjectFactoryError</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">objectory</span><span class="w"> </span><span class="kn">import</span> <span class="n">Registry</span>

<span class="n">registry</span> <span class="o">=</span> <span class="n">Registry</span><span class="p">()</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Foo</span><span class="p">:</span>
    <span class="k">pass</span>


<span class="n">registry</span><span class="o">.</span><span class="n">set_class_filter</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">)</span>
<span class="n">registry</span><span class="o">.</span><span class="n">register_object</span><span class="p">(</span><span class="n">Foo</span><span class="p">)</span>
</code></pre></div>
<p>The previous example will raise an exception because <code>Foo</code> is not a child class
of <code>torch.nn.Module</code>.
To unset the class filter, you can set it to <code>None</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">objectory</span><span class="w"> </span><span class="kn">import</span> <span class="n">Registry</span>

<span class="n">registry</span> <span class="o">=</span> <span class="n">Registry</span><span class="p">()</span>
<span class="n">registry</span><span class="o">.</span><span class="n">set_class_filter</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>
<p><img alt="âš " class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.0.3/assets/svg/26a0.svg" title=":warning:" /> Note that the class filter is only used when you try to register a new object.
It will not filter the existing objects into the registry.
You can look at the following example:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># file: my_package/my_module.py</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">objectory</span><span class="w"> </span><span class="kn">import</span> <span class="n">Registry</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Foo</span><span class="p">:</span>
    <span class="k">pass</span>


<span class="n">registry</span> <span class="o">=</span> <span class="n">Registry</span><span class="p">()</span>
<span class="n">registry</span><span class="o">.</span><span class="n">register_object</span><span class="p">(</span><span class="n">Foo</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">registry</span><span class="o">.</span><span class="n">registered_names</span><span class="p">())</span>

<span class="n">registry</span><span class="o">.</span><span class="n">set_class_filter</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">)</span>
<span class="n">registry</span><span class="o">.</span><span class="n">register_object</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Linear</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">registry</span><span class="o">.</span><span class="n">registered_names</span><span class="p">())</span>
</code></pre></div>
<p><em>Output</em>:</p>
<div class="highlight"><pre><span></span><code>{&#39;my_package.my_module.Foo&#39;}
{&#39;my_package.my_module.Foo&#39;, &#39;torch.nn.Linear&#39;}
</code></pre></div>
<p>You can see that the class <code>my_package.my_module.Foo</code> is still registered after the filter is set
to <code>torch.nn.Module</code>.
It is because this class was added before to set the class filter.
If you want to filter all the objects before to add them to the registry, please set the class
filter before to register the first object.
It will guarantee that all the registered objects are inherited from the filtered class.</p>
<h3 id="clear-all-filters">Clear all filters<a class="headerlink" href="#clear-all-filters" title="Permanent link">&para;</a></h3>
<p>You can remove all the filters of a registry by using the function <code>clear_filters</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">objectory</span><span class="w"> </span><span class="kn">import</span> <span class="n">Registry</span>

<span class="n">registry</span> <span class="o">=</span> <span class="n">Registry</span><span class="p">()</span>
<span class="n">registry</span><span class="o">.</span><span class="n">clear_filters</span><span class="p">()</span>
</code></pre></div>
<p>By default, the function <code>clear_filters</code> removes the filters on the current registry but not the
filters of the sub-registries.
To also remove the filters of all the sub-registries, you can set <code>nested=True</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">objectory</span><span class="w"> </span><span class="kn">import</span> <span class="n">Registry</span>

<span class="n">registry</span> <span class="o">=</span> <span class="n">Registry</span><span class="p">()</span>
<span class="n">registry</span><span class="o">.</span><span class="n">clear_filters</span><span class="p">(</span><span class="n">nested</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 - present Thibaut Durand
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.expand"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"method": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>